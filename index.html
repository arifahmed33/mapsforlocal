<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Road colors debug</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<style>html, body, #map { height: 100%; margin:0; }</style>
</head>
<body>
<div id="map"></div>
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script src="https://unpkg.com/osmtogeojson@3.0.0/osmtogeojson.js"></script>
<script>
const map = L.map('map').setView([24.7136, 46.6753], 12);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{
  maxZoom: 19,
  attribution:'Â© OpenStreetMap contributors'
}).addTo(map);

const query = `
[out:json][timeout:60];
(
  way["highway"="motorway"](24.6,46.5,24.85,46.9);
  way["highway"="primary"](24.6,46.5,24.85,46.9);
  way["highway"="tertiary"](24.6,46.5,24.85,46.9);
);
out body;
>;
out skel qt;
`;

fetch('https://overpass-api.de/api/interpreter', {
  method:'POST',
  body:query,
  headers:{'Content-Type':'application/x-www-form-urlencoded'}
})
.then(res=>res.json())
.then(osmData=>{
  const geojson = osmtogeojson(osmData);
  L.geoJSON(geojson,{
    style: f=>{
      const hwy = f.properties.tags ? f.properties.tags.highway : null;
      console.log('Road highway type:', hwy);
      if(hwy === 'motorway') return {color: '#28a745', weight: 6};
      if(hwy === 'primary') return {color: '#ff0000', weight: 5};
      if(hwy === 'tertiary') return {color: '#007bff', weight: 3, dashArray: '8,5'};
      return {color:'#999', weight:1};
    },
    onEachFeature: (f,l)=>{
      const name = (f.properties.tags && (f.properties.tags['name:en'] || f.properties.tags.name)) || 'Unnamed road';
      l.bindPopup(`<strong>${name}</strong><br>Type: ${f.properties.tags ? f.properties.tags.highway : 'N/A'}`);
    }
  }).addTo(map);
});
</script>
</body>
</html>
